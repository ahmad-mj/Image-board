<!doctype html>
<html>
<head>
    <title>My Imageboard</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>




    
    <div id="main">
        
        
        <div class="header">
        <h1>My Imageboard</h1>
       </div>
<div class="searchField">                   
                         <input  v-model="title" type="text" name="title" placeholder="title">
                         <input  v-model="description" type="text" name="description" placeholder="description">
                         <input  v-model="username" type="text" name="username" placeholder="username">
                         
                       
                         <input  type="file" name="file" accept="image/*" @change="handleFileSelection">
                       
                        
                          <button class="upload_btn"  @click="uploadImage">Upload</button>    
          </div>
           
          <image-modal-component
          v-if="selectedImage"
          :imageid="selectedImage"
          @close="closeModal">
        </image-modal-component> 

<section class="grid">
    <div class="image_div" v-for="image in images" :key="image.id">
    <div class="board">
            <img class="image" :src="image.url" alt="image" @click="openModal(image.id)">
    <div class="text">
                <p class="image-title">{{image.title}} <br><br> {{image.description}}</p>
               
    </div>
            
        </div>
    </div>
</section>

       
        
      <div id="moreButton">
                <button v-if="button" @click="loadMoreImages">more</button>
            </div>
          
       
    </div> 


<script id="image-modal-template" type="text/x-template">
    
    <div class="modal-overlay">   
      <div class="modal-info">
         <p id="x" @click="closeModal">X</p>

         <div class="modal_box">
             <img :src="data.url" :alt="data.description">
             <h3>{{data.title}}</h3>
             <p>{{data.description}}</p>
             <p class="author">Created by: {{data.username}} on:  {{data.created_at}}</p>
             
             <comments-component
             :id="id"       
             ></comments-component>
            </div>
         </div>
     </div>
</script>
<script id="comments-template" type="text/x-template">
    <div class="comments-container">
    
        <div class="submit-container">
            <input class="comment_input" v-model="username" type="text" name="username" placeholder="username">
            <input class="comment_input" v-model="comment" type="text" name="comment" placeholder="comment">
            <button  class="comment_btn" @click="addComment">post</button>
        </div>

        <div v-for="comment in comments">
            <div>
                <p>{{comment.username}}, {{comment.text}}</p>
                <p>{{comment.created_at}}</p>
            </div>
        </div>

    </div>
</script>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
