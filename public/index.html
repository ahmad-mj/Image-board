<!doctype html>
<html>
<head>
    <title>My Imageboard</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>




     <h1>My Imageboard</h1>
    
<div id="main">
    

    <div class="header">
        <h2>Latest Images</h2>
<div class="searchField">                   
                         <input  v-model="title" type="text" name="title" placeholder="title">
                         <input  v-model="description" type="text" name="description" placeholder="description">
                         <input  v-model="username" type="text" name="username" placeholder="username">
                         
                         <div>
                         <input  type="file" name="file" accept="image/*" @change="handleFileSelection">
                        </div>         
                          <button  @click="uploadImage">Upload</button>    
          </div>
          </div>
          <image-modal-component
          v-if="selectedImage"
          :imageid="selectedImage"
          @close="closeModal">
        </image-modal-component> 

        <div class="board" v-for="image in images" :key="image.id">
            <img :src="image.url" alt="image" @click="openModal(image.id)">
            <p class="image-title">{{image.title}}</p>
            <p class="image-description">{{image.description}}</p>
        </div>
        
      <div id="moreButton">
                <button v-if="button" @click="loadMoreImages">more</button>
            </div>
          
       
    </div> 


<script id="image-modal-template" type="text/x-template">
    
    <div class="modal-overlay">   
      <div>
         <p id="x" @click="closeModal">X</p>

         <div class="modal_box">
             <img :src="data.url" :alt="data.description">
             <h3>{{data.title}}</h3>
             <p>{{data.description}}</p>
             <p class="author">Created by: {{data.username}} on: {{data.created_at}}</p>
         </div>
            <comments-component
       :commentId="imageid"       
    ></comments-component>
         </div>
     </div>
</script>
<script id="comments-template" type="text/x-template">
    <div class="comments-container">
    
        <div class="submit-container">
            <input v-model="username" type="text" name="username" >
            <input v-model="comment" type="text" name="comment" >
            <button @click="addComment">post</button>
        </div>

        <div v-for="comment in comments">
            <div>
                <p>{{comment.username}}, {{comment.text}}</p>
                <p>{{comment.created_at}}</p>
            </div>
        </div>

    </div>
</script>

    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
